# WPlace Scraper - Environment Variables

## WPLACE_* - Main Application Configuration

# Required: API endpoint for fetching tiles
WPLACE_API_ENDPOINT=https://backend.wplace.live/files
# Required: Tile path prefix
WPLACE_TILE_PATH=s0/tiles
# Optional: Rate limit in tiles per second (default: 1.8)
# WPLACE_RATE_LIMIT=1.8
# Optional: Zoom level for URL outputs (default: 15)
# WPLACE_ZOOM_LEVEL=15

## Fetcher Settings

# Optional: Number of fetcher workers (default: auto-calculated as 25% of CPU threads)
# FETCHER_WORKER_COUNT=8

# Optional: Tile selection mode - random, consecutive, or grid (default: random)
FETCHER_TILE_SELECTION_MODE=grid

# Optional: Specific tile to fetch immediately to test if the template matching works. (X coordinate)
# FETCHER_TILE_X=

# Optional: Specific tile to fetch immediately (Y coordinate)
# FETCHER_TILE_Y=

# Optional: Save tiles to hour-based subdirectories (e.g., tiles/0800/x/y.png) (default: true)
# If false, tiles are saved directly to tiles/x/y.png
FETCHER_SAVE_TO_HOUR_DIR=false

## PROXY_* - Proxy Configuration

# Optional: Proxy mode - "file" or "rotating" (default: file)
# PROXY_MODE=file

# Required if PROXY_MODE=rotating: Rotating proxy endpoint URL
# Format: http://username:password@hostname:port
# PROXY_ENDPOINT=http://user:pass@proxy.example.com:8080

# Required if PROXY_MODE=rotating: Number of proxy slots to simulate
# PROXY_COUNT=100

# Optional: Maximum concurrent requests per worker
# PROXY_MAX_CONCURRENCY=500

# Optional: Number of retries for failed tile fetches (default: 3)
PROXY_RETRY_COUNT=3

## Matcher Settings

# Optional: Match threshold 0.0-1.0 (default: 0.25)
MATCHER_THRESHOLD=1.0

# Optional: Number of match workers (default: auto-calculated as 25% of CPU threads)
# MATCHER_WORKER_COUNT=8

## CACHE_* - Cache Configuration

# Optional: Cache TTL in milliseconds (default: 3600000 = 1 hour)
CACHE_TTL_MS=3600000

# Optional: Expire cache entries on the hour (default: false)
CACHE_EXPIRE_ON_HOUR=false

